{"ast":null,"code":"var _jsxFileName = \"/Users/leo/projects/comp6080-24t1-exam/src/pages/GameThree.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Box } from '@mui/material';\nimport { useGamesWon } from '../context/GamesWonContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst gameSize = 500;\nconst shooterSize = 10;\nconst objectSize = 20;\nconst objectMargin = 15;\nconst totalObjectWidth = objectSize + objectMargin;\nconst gameStartOffset = 60;\nfunction SpaceInvaders() {\n  _s();\n  const {\n    decrementGamesWon\n  } = useGamesWon();\n  const [shooterPosition, setShooterPosition] = useState(0);\n  const [objects, setObjects] = useState(Array.from({\n    length: 20\n  }, (_, index) => ({\n    id: index,\n    visible: true\n  })));\n  const shoot = useCallback(() => {\n    const shooterCenter = shooterPosition + shooterSize / 2;\n    setObjects(objects => {\n      const updatedObjects = objects.map(obj => {\n        const colIndex = obj.id % 10;\n        const objectLeft = colIndex * totalObjectWidth + gameStartOffset;\n        const objectRight = objectLeft + objectSize;\n        if (obj.visible && shooterCenter >= objectLeft && shooterCenter <= objectRight) {\n          return {\n            ...obj,\n            visible: false\n          };\n        }\n        return obj;\n      });\n      checkGameStatus(updatedObjects);\n      return updatedObjects;\n    });\n  }, [shooterPosition]);\n  const checkGameStatus = updatedObjects => {\n    if (updatedObjects.every(obj => !obj.visible)) {\n      decrementGamesWon();\n      alert(\"Congratulations, you have won!\");\n      restartGame();\n    }\n  };\n  const restartGame = () => {\n    setObjects(objects.map(obj => ({\n      ...obj,\n      visible: true\n    })));\n    setShooterPosition(0);\n  };\n  useEffect(() => {\n    const handleKeyPress = e => {\n      if (e.key === 'ArrowLeft') {\n        setShooterPosition(prev => Math.max(0, prev - 1));\n      } else if (e.key === 'ArrowRight') {\n        setShooterPosition(prev => Math.min(gameSize - shooterSize, prev + 1));\n      } else if (e.key === ' ') {\n        e.preventDefault();\n        shoot();\n      }\n    };\n    window.addEventListener('keydown', handleKeyPress);\n    return () => window.removeEventListener('keydown', handleKeyPress);\n  }, [shoot]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      width: gameSize,\n      height: gameSize,\n      border: '1px solid black',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        position: 'absolute',\n        bottom: 0,\n        left: shooterPosition,\n        width: shooterSize,\n        height: shooterSize,\n        backgroundColor: 'red'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), objects.map((obj, index) => obj.visible && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        position: 'absolute',\n        top: Math.floor(index / 10) * totalObjectWidth,\n        left: index % 10 * totalObjectWidth,\n        width: objectSize,\n        height: objectSize,\n        backgroundColor: 'black',\n        margin: objectMargin / 2\n      }\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(SpaceInvaders, \"k+FBUWP2KbiMQ3YLS94iYjhqq8A=\", false, function () {\n  return [useGamesWon];\n});\n_c = SpaceInvaders;\nexport default SpaceInvaders;\nvar _c;\n$RefreshReg$(_c, \"SpaceInvaders\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Box","useGamesWon","jsxDEV","_jsxDEV","gameSize","shooterSize","objectSize","objectMargin","totalObjectWidth","gameStartOffset","SpaceInvaders","_s","decrementGamesWon","shooterPosition","setShooterPosition","objects","setObjects","Array","from","length","_","index","id","visible","shoot","shooterCenter","updatedObjects","map","obj","colIndex","objectLeft","objectRight","checkGameStatus","every","alert","restartGame","handleKeyPress","e","key","prev","Math","max","min","preventDefault","window","addEventListener","removeEventListener","sx","width","height","border","position","children","bottom","left","backgroundColor","fileName","_jsxFileName","lineNumber","columnNumber","top","floor","margin","_c","$RefreshReg$"],"sources":["/Users/leo/projects/comp6080-24t1-exam/src/pages/GameThree.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Box } from '@mui/material';\nimport { useGamesWon } from '../context/GamesWonContext';\n\n\nconst gameSize = 500;\nconst shooterSize = 10;\nconst objectSize = 20;\nconst objectMargin = 15;\nconst totalObjectWidth = objectSize + objectMargin; \n\nconst gameStartOffset = 60; \nfunction SpaceInvaders() {\n  const { decrementGamesWon } = useGamesWon();\n  const [shooterPosition, setShooterPosition] = useState(0);\n  const [objects, setObjects] = useState(Array.from({ length: 20 }, (_, index) => ({\n    id: index,\n    visible: true\n  })));\n\n  const shoot = useCallback(() => {\n    const shooterCenter = shooterPosition + shooterSize / 2;\n    setObjects(objects => {\n      const updatedObjects = objects.map(obj => {\n        const colIndex = obj.id % 10;\n        const objectLeft = colIndex * totalObjectWidth + gameStartOffset; \n        const objectRight = objectLeft + objectSize;\n        \n        if (obj.visible && shooterCenter >= objectLeft && shooterCenter <= objectRight) {\n          return { ...obj, visible: false };\n        }\n        return obj;\n      });\n      checkGameStatus(updatedObjects);\n      return updatedObjects;\n    });\n  }, [shooterPosition]);\n\n  const checkGameStatus = (updatedObjects) => {\n    if (updatedObjects.every(obj => !obj.visible)) {\n      decrementGamesWon();\n      alert(\"Congratulations, you have won!\");\n      restartGame();\n    }\n  };\n\n  const restartGame = () => {\n    setObjects(objects.map(obj => ({ ...obj, visible: true })));\n    setShooterPosition(0);\n  };\n\n  useEffect(() => {\n    const handleKeyPress = (e) => {\n      if (e.key === 'ArrowLeft') {\n        setShooterPosition(prev => Math.max(0, prev - 1));\n      } else if (e.key === 'ArrowRight') {\n        setShooterPosition(prev => Math.min(gameSize - shooterSize, prev + 1));\n      } else if (e.key === ' ') {\n        e.preventDefault();  \n        shoot();\n      }\n    };\n    window.addEventListener('keydown', handleKeyPress);\n    return () => window.removeEventListener('keydown', handleKeyPress);\n  }, [shoot]);\n\n  return (\n    <Box sx={{ width: gameSize, height: gameSize, border: '1px solid black', position: 'relative' }}>\n      <Box sx={{\n        position: 'absolute',\n        bottom: 0,\n        left: shooterPosition,\n        width: shooterSize,\n        height: shooterSize,\n        backgroundColor: 'red'\n      }} />\n      {objects.map((obj, index) => (\n        obj.visible && (\n          <Box key={index} sx={{\n            position: 'absolute',\n            top: Math.floor(index / 10) * totalObjectWidth,\n            left: (index % 10) * totalObjectWidth,\n            width: objectSize,\n            height: objectSize,\n            backgroundColor: 'black',\n            margin: objectMargin / 2\n          }} />\n        )\n      ))}\n    </Box>\n  );\n}\n\nexport default SpaceInvaders;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}